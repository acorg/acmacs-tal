{"_": "-*- js-indent-level: 1 -*-",
 "init": [
  {"N": "set",
   "?report-cumulative-output": "",
   "?report-time-series-output": "",
   "whocc": false,
   "ladderize-method": "number-of-leaves"
  }
 ],
 "layout": [
  {"N": "margins", "?left": 0.1, "?debug_outline": "cyan"},
  {"N": "tree", "color_by": "continent", "width_to_height_ratio": 0.48, "debug_outline": false},
  {"?N": "gap", "width_to_height_ratio": 0.2, "debug_outline": {"color": "green", "width": 5}},
  {"N": "time_series", "color_by": "continent", "start": "2019-01-01", "end": "2019-12-31", "interval": {"month": 1},
   "?debug_outline": "lightblue"},
  {"N": "clades", "debug_outline": "lightblue"},
  {"?N": "tree", "color_by": {"N": "continent", "EUROPE": "magenta"}, "debug_outline": false}
 ],
 "main": [
  {"N": "if", "condition": {"and": ["{whocc}", {"not": "{tree-has-sequences}"}]}, "then": [{"N": "seqdb", "filename": "{seqdb-filename}"}], "else": []},
  {"N": "report-cumulative", "output": "{report-cumulative-output}", "all": true},
  {"N": "report-time-series", "output": "{report-time-series-output}"},
  {"N": "ladderize", "method": "{ladderize-method}"},
  {"?N": "update-common-aa", "report": false},
  {"N": "aa-transitions", "report": false},
  {"N": "if", "condition": {"and": ["{whocc}", {"not-empty": "{virus-type}"}]}, "then": [{"N": "clades-{virus-type}{lineage}", "report": false}]},
  {"N": "if", "condition": {"and": ["{whocc}", {"not-empty": "{virus-type}"}]},
   "then": [{"N": "nodes", "select": {"vaccine": {"type": "current", "passage": "cell"}, "report": false}, "apply": "report"}]},
  {"?N": "if", "condition": {"and": ["{whocc}", "{chart-present}"]}, "then": [{"N": "nodes", "select": {"matches-chart-antigen": true}, "apply": "report"}]},
  {"?N": "if", "condition": {"and": ["{whocc}", "{chart-present}"]}, "then": [{"N": "nodes", "select": {"matches-chart-serum": "name"}, "apply": "report"}]},
  {"?N": "nodes", "select": {"cumulative >=": 0.01, "report": false}, "apply": "hide"},
  "layout"
 ]
}
